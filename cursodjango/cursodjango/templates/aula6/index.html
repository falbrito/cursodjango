{% extends 'base.html' %}

{% block title %}Aula 6 - Cadastro de contatos{% endblock %}

{% block content %}

<h3>Adicionar Contatos</h3>
<form action="." method="post">{% csrf_token %} <!-- proteção contra ataque-->

    <!-- Todo o trecho substituido por forms.py -->
    <!-- {{ form }} -->
    <!-- apenas colocando {{ form }} a estrutura será mostrada numa tabela apenas em uma linha,
    para poder aparecer cada campo numa linha pode-se usar {{ form.as_p}}, que seria a forma de
    paragrafo -->
    {{ form.as_p }}

    <input type='submit' value='Enviar' />
  
</form>

<hr>
<h3>Lista de contatos cadastrados</h3>

{% if contatos %}

  {% for contato in contatos %}
    <p>{{ contato.first_name }} {{ contato.last_name }}</p>
  {% endfor %}

{% else %}

  <p>Não existem contatos cadastrados</p>

{% endif %}

{% endblock %}